{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nexport default {\n  name: \"TRADITION\",\n  data: function data() {\n    return {\n      data_isShow: false,\n      data: []\n    };\n  },\n  methods: {\n    handleSuccess: function handleSuccess(response) {\n      console.log(response);\n\n      if (response.success) {\n        console.log(\"success\");\n        this.success(response.msg);\n        this.analyse(response.data);\n      } else {\n        this.warn(response.msg);\n        console.log(\"fail\");\n      }\n    },\n    analyse: function analyse(path) {\n      var _this = this;\n\n      axios.get(\"/api/TraJava\", {\n        params: {\n          path: path\n        }\n      }).then(function (response) {\n        console.log(response);\n\n        if (response.data.success) {\n          _this.success(response.data.msg);\n\n          _this.data.push(response.data.data);\n\n          console.log(_this.data);\n          console.log(\"显示前\");\n          _this.data_isShow = true;\n          console.log(_this.data_isShow);\n        } else {\n          _this.warn(\"文件格式无效，请修改后重试\");\n        }\n      });\n    },\n    success: function success(message) {\n      this.$message({\n        message: message,\n        type: 'success'\n      });\n    },\n    warn: function warn(message) {\n      this.$message({\n        message: message,\n        type: 'warning'\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AAEA;AACAA,mBADA;AAEAC,MAFA,kBAEA;AACA;AACAC,wBADA;AAEAD;AAFA;AAIA,GAPA;AAQAE;AACAC,iBADA,yBACAC,QADA,EACA;AACAC;;AACA;AACAA;AACA;AACA;AACA,OAJA,MAKA;AACA;AACAA;AAEA;AACA,KAbA;AAcAC,WAdA,mBAcAC,IAdA,EAcA;AAAA;;AACAC;AACAC;AACAF;AADA;AADA,SAIAG,IAJA,CAKA;AACAL;;AACA;AACA;;AACA;;AACAA;AACAA;AACA;AACAA;AACA,SAPA,MAOA;AACA;AACA;AACA,OAjBA;AAmBA,KAlCA;AAmCAM,WAnCA,mBAmCAC,OAnCA,EAmCA;AACA;AACAA,wBADA;AAEAC;AAFA;AAIA,KAxCA;AAyCAC,QAzCA,gBAyCAF,OAzCA,EAyCA;AACA;AACAA,wBADA;AAEAC;AAFA;AAIA;AA9CA;AARA","names":["name","data","data_isShow","methods","handleSuccess","response","console","analyse","path","axios","params","then","success","message","type","warn"],"sourceRoot":"src/components","sources":["TRADITION.vue"],"sourcesContent":["<template>\n  <div>\n    <h1>TRADITION</h1>\n    <!--    上传模块 -->\n    <el-upload\n        drag\n        action=\"/api/upload\"\n        accept=\".java\"\n        :on-success=\"handleSuccess\">\n\n      <i class=\"el-icon-upload\"></i>\n      <div class=\"el-upload__text\">\n        将文件拖到此处，或<em>点击上传</em>\n      </div>\n      <div class=\"el-upload__tip\" slot=\"tip\">\n        只能上传Java文件\n      </div>\n    </el-upload>\n\n    <!--结果表格-->\n    <el-table\n        v-if=\"data_isShow\"\n        :data=\"data\"\n        style=\"width:100%\"\n        align=\"center\">\n      <!--Line of Code(LOC)  Cyclomatic Complexity(CC)  Comment Percentage(CP)    -->\n      <el-table-column\n          prop=\"loc\"\n          label=\"Line of Code(LOC)\"\n          width=\"200\">\n      </el-table-column>\n      <el-table-column\n          prop=\"cc\"\n          label=\"Cyclomatic Complexity(CC)\"\n          width=\"220\">\n      </el-table-column>\n      <el-table-column\n          prop=\"cp\"\n          label=\"Comment Percentage(CP)\"\n          width=\"200\">\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: \"TRADITION\",\n  data() {\n    return {\n      data_isShow: false,\n      data: [],\n    }\n  },\n  methods:{\n    handleSuccess(response){\n      console.log(response);\n      if(response.success){\n        console.log(\"success\")\n        this.success(response.msg)\n        this.analyse(response.data)\n      }\n      else{\n        this.warn(response.msg);\n        console.log(\"fail\")\n\n      }\n    },\n    analyse(path){\n      axios.get(\"/api/TraJava\",{\n        params:{\n          path:path}\n      })\n          .then(\n              response=>{\n                console.log(response)\n                if(response.data.success){\n                  this.success(response.data.msg)\n                  this.data.push(response.data.data)\n                  console.log(this.data)\n                  console.log(\"显示前\")\n                  this.data_isShow=true\n                  console.log(this.data_isShow)\n                }else{\n                  this.warn(\"文件格式无效，请修改后重试\")\n                }\n              }\n          )\n    },\n    success(message){\n      this.$message({\n        message:message,\n        type:'success'\n      });\n    },\n    warn(message){\n      this.$message({\n        message:message,\n        type:'warning'\n      });\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"]},"metadata":{},"sourceType":"module"}