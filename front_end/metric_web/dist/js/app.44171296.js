(function(){"use strict";var t={2533:function(t,e,a){var s=a(6369),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},o=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",{staticClass:"hh"},[t._v("Metrics")]),a("el-container",{staticStyle:{height:"600px"}},[a("el-aside",{staticClass:"myel2",attrs:{width:"200px"}},[a("el-menu",{attrs:{"default-active":t.activeIndex,router:""}},[a("el-submenu",{staticStyle:{"background-color":"#fafafa"},attrs:{index:""}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-circle-plus"}),a("span",[t._v("方法选择")])]),a("el-menu-item",{staticStyle:{"background-color":"#fafafa"},attrs:{index:"/CK_XML"}},[t._v("CK-XML Metric")]),a("el-menu-item",{staticStyle:{"background-color":"#fafafa"},attrs:{index:"/CK_JAVA"}},[t._v("CK-java Metric")]),a("el-menu-item",{staticStyle:{"background-color":"#fafafa"},attrs:{index:"/TRADITION"}},[t._v("Tradition Metric")]),a("el-menu-item",{staticStyle:{"background-color":"#fafafa"},attrs:{index:"/LK"}},[t._v("LK Metric")]),a("el-menu-item",{staticStyle:{"background-color":"#fafafa"},attrs:{index:"/UCP"}},[t._v("UCP用例点度量")])],2)],1)],1),a("el-main",{staticClass:"myel"},[a("router-view")],1)],1)],1)},i=[],r=a(6265),c=a.n(r),u={name:"Metrics",data:()=>({activeIndex:""}),methods:{getMetrics(){c().get("http://localhost:9000").then((function(t){console.log(t)}))}}},d=u,p=a(3736),h=(0,p.Z)(d,n,i,!1,null,"5492de12",null),m=h.exports,f={name:"App",components:{Metrics:m}},g=f,b=(0,p.Z)(g,l,o,!1,null,null,null),_=b.exports,v=a(8499),w=a.n(v),C=a(2631),y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("CK-XML")]),a("el-upload",{attrs:{drag:"",action:"/api/upload",accept:".xml","on-success":t.handleSuccess}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传.xml文件")])]),t.img_show?a("el-image",{staticStyle:{width:"300px",height:"300px"},attrs:{src:t.true_url[0],"preview-src-list":t.true_url}}):t._e()],1)},x=[],T={name:"CK_XML",data(){return{img_url:[],true_url:[],img_show:!1}},methods:{handleSuccess(t){console.log(t),t.success?(this.success(t.msg),this.analyse(t.data)):this.warn(t.msg)},analyse(t){c().get("/api/CKXml",{params:{path:t}}).then((t=>{if(console.log(t),t.data.success){this.success(t.data.msg),this.img_url=t.data.data,this.true_url=[];for(let t=0;t<this.img_url.length;t++)this.getImage(this.img_url[t]);this.img_show=!0}else this.warn("文件格式无效，请修改后重试"),this.img_show=!1}))},getImage(t){c().get("/api/getImage",{params:{path:t},responseType:"blob"}).then((t=>{let e=window.URL.createObjectURL(t.data);this.true_url.push(e),console.log(e)}))},success(t){this.$message({message:t,type:"success"})},warn(t){this.$message({message:t,type:"warning"})}}},S=T,O=(0,p.Z)(S,y,x,!1,null,"3cb2e292",null),j=O.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("CK-JAVA")]),a("el-upload",{attrs:{drag:"",action:"/api/upload",accept:".java","on-success":t.handleSuccess}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传.java文件")])]),t.data_isshow?a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.data}},[a("el-table-column",{attrs:{prop:"class",label:"class",width:"180"}}),a("el-table-column",{attrs:{prop:"file",label:"file",width:"180"}}),a("el-table-column",{attrs:{prop:"type",label:"type",width:"70"}}),a("el-table-column",{attrs:{prop:"loc",label:"loc",width:"70"}}),a("el-table-column",{attrs:{prop:"noc",label:"noc",width:"70"}}),a("el-table-column",{attrs:{prop:"nof",label:"nof",width:"70"}}),a("el-table-column",{attrs:{prop:"nopf",label:"nopf",width:"70"}}),a("el-table-column",{attrs:{prop:"nosi",label:"nosi",width:"70"}}),a("el-table-column",{attrs:{prop:"lcom",label:"lcom",width:"70"}}),a("el-table-column",{attrs:{prop:"nosf",label:"nosf",width:"70"}}),a("el-table-column",{attrs:{prop:"nosm",label:"nosm",width:"70"}}),a("el-table-column",{attrs:{prop:"wmc",label:"wmc",width:"70"}}),a("el-table-column",{attrs:{prop:"nom",label:"nom",width:"70"}}),a("el-table-column",{attrs:{prop:"nopm",label:"nopm",width:"70"}}),a("el-table-column",{attrs:{prop:"rfc",label:"rfc",width:"70"}}),a("el-table-column",{attrs:{prop:"dit",label:"dit",width:"70"}}),a("el-table-column",{attrs:{prop:"cbo",label:"cbo",width:"70"}})],1):t._e()],1)},M=[],U={name:"CK_JAVA",data(){return{data_isshow:!1,data:[]}},methods:{handleSuccess(t){console.log(t),t.success?(this.success(t.msg),this.analyse(t.data)):this.warn(t.msg)},analyse(t){c().get("/api/CKJava",{params:{path:t}}).then((t=>{console.log(t),t.data.success?(this.success(t.data.msg),this.data=t.data.data,console.log(this.data),this.data_isshow=!0):this.warn("文件格式无效，请修改后重试")}))},success(t){this.$message({message:t,type:"success"})},warn(t){this.$message({message:t,type:"warning"})}}},$=U,K=(0,p.Z)($,A,M,!1,null,"2398ca5c",null),L=K.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("TRADITION")]),a("el-upload",{attrs:{drag:"",action:"/api/upload",accept:".java","on-success":t.handleSuccess}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v(" 将文件拖到此处，或"),a("em",[t._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v(" 只能上传Java文件 ")])]),t.data_isShow?a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.data,align:"center"}},[a("el-table-column",{attrs:{prop:"loc",label:"Line of Code(LOC)",width:"200"}}),a("el-table-column",{attrs:{prop:"cc",label:"Cyclomatic Complexity(CC)",width:"220"}}),a("el-table-column",{attrs:{prop:"cp",label:"Comment Percentage(CP)",width:"200"}})],1):t._e()],1)},E=[],k={name:"TRADITION",data(){return{data_isShow:!1,data:[]}},methods:{handleSuccess(t){console.log(t),t.success?(console.log("success"),this.success(t.msg),this.analyse(t.data)):(this.warn(t.msg),console.log("fail"))},analyse(t){c().get("/api/TraJava",{params:{path:t}}).then((t=>{console.log(t),t.data.success?(this.success(t.data.msg),this.data.push(t.data.data),console.log(this.data),console.log("显示前"),this.data_isShow=!0,console.log(this.data_isShow)):this.warn("文件格式无效，请修改后重试")}))},success(t){this.$message({message:t,type:"success"})},warn(t){this.$message({message:t,type:"warning"})}}},F=k,I=(0,p.Z)(F,P,E,!1,null,"a9d0aa2e",null),N=I.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("LK")]),a("el-upload",{attrs:{drag:"",action:"","http-request":t.readAsText,accept:".xml"}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传.xml文件")])]),t.data_isshow?a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.resdata_json}},[a("el-table-column",{attrs:{prop:"name",label:"name",width:"180"}}),a("el-table-column",{attrs:{prop:"noa",label:"noa",width:"180"}}),a("el-table-column",{attrs:{prop:"noo",label:"noo",width:"180"}}),a("el-table-column",{attrs:{prop:"si",label:"si",width:"180"}}),a("el-table-column",{attrs:{prop:"totalNumberOfAttr",label:"totalNumberOfAttr",width:"180"}}),a("el-table-column",{attrs:{prop:"totalNumberOfMethod",label:"totalNumberOfMethod",width:"180"}})],1):t._e()],1)},Z=[],R=a(3928),V=a.n(R),X={name:"LK",data(){return{data_isshow:!1,data:"",resdata_json:[]}},methods:{readAsText(t){let e=t.file,a=new FileReader;a.readAsText(e),a.onload=function(){let t=a.result;this.data=t,console.log(this.data),this.success("文件读取成功"),c().post("/api//LKMetrics",this.data,{headers:{"Content-Type":"application/xml"}}).then((t=>{console.log(t);var e=t.data.toString();console.log(e);const a=new(V()),s=a.xml2js(e);console.log(s);let l=this;this.resdata_json=[],s.message.lkResultList.result.forEach((function(t){console.log("this",this),console.log("that",l),l.resdata_json.push(t)})),this.data_isshow=!0})).catch((t=>{console.log(t),this.warn("文件内容不支持"),this.data_isshow=!1}))}.bind(this)},xmlToJson(t){var e={};if(1==t.nodeType){if(t.attributes.length>0){e["@attributes"]={};for(var a=0;a<t.attributes.length;a++){var s=t.attributes.item(a);e["@attributes"][s.nodeName]=s.nodeValue}}}else 3==t.nodeType&&(e=t.nodeValue);if(t.hasChildNodes())for(var l=0;l<t.childNodes.length;l++){var o=t.childNodes.item(l),n=o.nodeName;if("undefined"==typeof e[n])e[n]=this.xmlToJson(o);else{if("undefined"==typeof e[n].push){var i=e[n];e[n]=[],e[n].push(i)}e[n].push(this.xmlToJson(o))}}return e},success(t){this.$message({message:t,type:"success"})},warn(t){this.$message({message:t,type:"warning"})}}},D=X,W=(0,p.Z)(D,J,Z,!1,null,"2eb32bee",null),q=W.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("UCP用例点度量")]),a("el-upload",{attrs:{drag:"",action:"","http-request":t.show,accept:".xml,.java"}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传.xml.java文件")])]),a("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-around"}},[a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content"},[a("el-input",{attrs:{"prefix-icon":"el-icon-search",value:"请输入参数",disabled:!0}},[a("template",{slot:"prepend"},[t._v("参数")])],2)],1)]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content"},[a("el-input",{attrs:{placeholder:"请输入TCF","prefix-icon":"el-icon-search"},model:{value:t.TCF,callback:function(e){t.TCF=e},expression:"TCF"}},[a("template",{slot:"prepend"},[t._v("TCF")])],2)],1)]),a("el-col",{attrs:{span:6}},[a("div",{staticClass:"grid-content"},[a("el-input",{attrs:{placeholder:"请输入EF","prefix-icon":"el-icon-search"},model:{value:t.EF,callback:function(e){t.EF=e},expression:"EF"}},[a("template",{slot:"prepend"},[t._v("EF")])],2)],1)])],1),t.data_isshow?a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.data}},[a("el-table-column",{attrs:{prop:"UUCW",label:"UUCW",width:"180"}}),a("el-table-column",{attrs:{prop:"UPC",label:"UPC",width:"180"}}),a("el-table-column",{attrs:{prop:"UAW",label:"UAW",width:"180"}}),a("el-table-column",{attrs:{prop:"UUCP",label:"UUCP",width:"180"}})],1):t._e()],1)},B=[],G={name:"UCP",data(){return{data_isshow:!1,data:[],TCF:"0.9",EF:"1.1"}},methods:{show(){this.success("文件上传成功"),c().get("/api/UCPMetrics").then((t=>{let e=[];e.push(t.data.data),this.data=e,console.log(this.data)})),this.data_isshow=!0,this.success("文件度量成功")},success(t){this.$message({message:t,type:"success"})},warn(t){this.$message({message:t,type:"warning"})}}},H=G,Q=(0,p.Z)(H,z,B,!1,null,"d4e0b040",null),Y=Q.exports;const tt=[{path:"/",component:m,children:[{path:"/CK_XML",component:j},{path:"/CK_JAVA",component:L},{path:"/TRADITION",component:N},{path:"/LK",component:q},{path:"/UCP",component:Y}]}],et=new C.Z({routes:tt});var at=et;s["default"].prototype.$x2js=new(V()),s["default"].config.productionTip=!1,s["default"].use(w()),s["default"].use(C.Z),s["default"].prototype.axios=c(),s["default"].use(c()),new s["default"]({render:t=>t(_),router:at}).$mount("#app")}},e={};function a(s){var l=e[s];if(void 0!==l)return l.exports;var o=e[s]={exports:{}};return t[s].call(o.exports,o,o.exports,a),o.exports}a.m=t,function(){var t=[];a.O=function(e,s,l,o){if(!s){var n=1/0;for(u=0;u<t.length;u++){s=t[u][0],l=t[u][1],o=t[u][2];for(var i=!0,r=0;r<s.length;r++)(!1&o||n>=o)&&Object.keys(a.O).every((function(t){return a.O[t](s[r])}))?s.splice(r--,1):(i=!1,o<n&&(n=o));if(i){t.splice(u--,1);var c=l();void 0!==c&&(e=c)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[s,l,o]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,s){var l,o,n=s[0],i=s[1],r=s[2],c=0;if(n.some((function(e){return 0!==t[e]}))){for(l in i)a.o(i,l)&&(a.m[l]=i[l]);if(r)var u=r(a)}for(e&&e(s);c<n.length;c++)o=n[c],a.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return a.O(u)},s=self["webpackChunkweb_test"]=self["webpackChunkweb_test"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(2533)}));s=a.O(s)})();
//# sourceMappingURL=app.44171296.js.map